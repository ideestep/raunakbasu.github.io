<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lab Photos | Basu Neuro Lab</title>

  <!-- SAME CSS AS OTHER PAGES -->
  <link rel="stylesheet" href="assets/css/layout.css">
  <link rel="stylesheet" href="assets/css/components.css">
</head>

<body>

<!-- HEADER (UNCHANGED) -->
<header class="site-header">
  <div class="header-inner">
    <img src="img/logo.png" alt="Basu Neuro Lab Logo" class="logo">

    <nav class="site-nav">
      <a href="index.html">Home</a>
      <a href="research.html">Research</a>
      <a href="members.html">Members</a>
      <a href="publications.html">Publications</a>
      <a href="labnews.html">Lab News</a>
      <a href="join.html">Join Us</a>
      <a href="contact.html">Contact</a>
    </nav>
  </div>
</header>

<main>

  <!-- HERO (SAME PATTERN AS OTHERS) -->
  <section class="page-hero hero-photos">
    <h1>Lab Photos</h1>
  </section>

  <!-- CONTENT -->
  <section class="page-content">
    <div id="gallery" class="gallery-grid"></div>
  </section>

</main>

<!-- FOOTER (EXACT SAME STRUCTURE AS INDEX / JOIN) -->
<footer class="site-footer">
  <div class="footer-inner">
    <p>© 2026 Basu Neuro Lab · Hebrew University of Jerusalem</p>
  </div>
</footer>

<!-- LIGHTBOX -->
<div id="lightbox" class="lightbox">
  <button class="lightbox-close" aria-label="Close">&times;</button>
  <img class="lightbox-img" alt="">
  <p class="lightbox-caption"></p>
</div>

<script>
fetch('assets/data/lab-photos.json')
  .then(res => res.json())
  .then(photos => {
    const gallery = document.getElementById('gallery');

    photos.forEach(photo => {
      const img = document.createElement('img');
      img.src = photo.src;
      img.alt = photo.caption || '';
      img.loading = "lazy";
      img.addEventListener('click', () => openLightbox(photo.src, photo.caption));
      gallery.appendChild(img);
    });
  });

const lightbox = document.getElementById('lightbox');
const lightboxImg = document.querySelector('.lightbox-img');
const lightboxCaption = document.querySelector('.lightbox-caption');
const closeBtn = document.querySelector('.lightbox-close');

function openLightbox(src, caption) {
  lightbox.style.display = 'flex';
  lightboxImg.src = src;
  lightboxCaption.textContent = caption || '';
  document.body.style.overflow = 'hidden';
}

function closeLightbox() {
  lightbox.style.display = 'none';
  lightboxImg.src = '';
  document.body.style.overflow = '';
}

closeBtn.addEventListener('click', closeLightbox);

lightbox.addEventListener('click', e => {
  if (e.target === lightbox) closeLightbox();
});

document.addEventListener('keydown', e => {
  if (e.key === 'Escape') closeLightbox();
});
</script>

</body>
</html>
