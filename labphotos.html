<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Lab Photos | Basu Neuro Lab</title>

  <!-- EXACT SAME CSS STACK AS index.html -->
  <link rel="stylesheet" href="assets/css/base.css">
  <link rel="stylesheet" href="assets/css/layout.css">
  <link rel="stylesheet" href="assets/css/components.css">
</head>

<body>

<!-- ================= HEADER (IDENTICAL EVERYWHERE) ================= -->
<header class="site-header">
  <div class="header-inner">

    <a href="index.html" class="logo-link">
      <img src="img/logo.png" alt="Basu Neuro Lab Logo" class="logo">
    </a>

    <nav class="site-nav">
      <a href="index.html">Home</a>
      <a href="research.html">Research</a>
      <a href="members.html">Members</a>
      <a href="publications.html">Publications</a>
      <a href="labnews.html">Lab News</a>
      <a href="join.html">Join Us</a>
      <a href="contact.html">Contact</a>
    </nav>

  </div>
</header>

<!-- ================= HERO ================= -->
<section class="page-hero hero-photos">
  <h1>Lab Photos</h1>
</section>

<!-- ================= CONTENT ================= -->
<main class="page-content">
  <div id="gallery" class="gallery-grid"></div>
</main>

<!-- ================= FOOTER (IDENTICAL EVERYWHERE) ================= -->
<footer class="site-footer">
  <div class="footer-inner">
    <p>© 2026 Basu Neuro Lab · Hebrew University of Jerusalem</p>
  </div>
</footer>

<!-- ================= LIGHTBOX ================= -->
<div id="lightbox" class="lightbox">
  <span class="lightbox-close">&times;</span>
  <img class="lightbox-img" alt="">
  <p class="lightbox-caption"></p>
</div>

<!-- ================= SCRIPT ================= -->
<script>
document.addEventListener("DOMContentLoaded", () => {

  const gallery = document.getElementById("gallery");
  const lightbox = document.getElementById("lightbox");
  const lightboxImg = document.querySelector(".lightbox-img");
  const lightboxCaption = document.querySelector(".lightbox-caption");
  const closeBtn = document.querySelector(".lightbox-close");

  fetch("assets/data/lab-photos.json")
    .then(res => res.json())
    .then(photos => {
      photos.forEach(photo => {
        const img = document.createElement("img");
        img.src = photo.src;
        img.alt = photo.caption || "";
        img.loading = "lazy";

        img.addEventListener("click", () => {
          lightbox.style.display = "flex";
          lightboxImg.src = photo.src;
          lightboxCaption.textContent = photo.caption || "";
          document.body.style.overflow = "hidden";
        });

        gallery.appendChild(img);
      });
    });

  function closeLightbox() {
    lightbox.style.display = "none";
    lightboxImg.src = "";
    document.body.style.overflow = "";
  }

  closeBtn.addEventListener("click", closeLightbox);

  lightbox.addEventListener("click", e => {
    if (e.target === lightbox) closeLightbox();
  });

  document.addEventListener("keydown", e => {
    if (e.key === "Escape") closeLightbox();
  });

});
</script>

</body>
</html>
